<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"tigredatas.com","root":"/","scheme":"Muse","version":"7.7.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Chen">
<meta property="og:url" content="http://tigredatas.com/page/2/index.html">
<meta property="og:site_name" content="Chen">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Chen Jiang">
<meta property="article:tag" content="Business Intelligence">
<meta property="article:tag" content="PowerBI">
<meta property="article:tag" content="MSBI">
<meta property="article:tag" content="Data analyst">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://tigredatas.com/page/2/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false
  };
</script>

  <title>Chen</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Chen</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>Archives</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://tigredatas.com/2019/07/26/dax-leaning-jurnal-chapter-3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Chen Jiang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chen">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/07/26/dax-leaning-jurnal-chapter-3/" class="post-title-link" itemprop="url">DAX LEANING JURNAL – CHAPTER 3</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-07-26 14:04:44" itemprop="dateCreated datePublished" datetime="2019-07-26T14:04:44+02:00">2019-07-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-03-15 18:04:53" itemprop="dateModified" datetime="2020-03-15T18:04:53+01:00">2020-03-15</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/DAX/" itemprop="url" rel="index"><span itemprop="name">DAX</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/DAX/Power-BI/" itemprop="url" rel="index"><span itemprop="name">Power BI</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>Dumbo’s DAX learing plan</p>
<p><strong>从2019年7月19日开始，读 <The definitive guide to DAX> edition 2这本书，坚持100天每日做笔记。</strong></p>
<p><strong>第二部分学习打卡 7.23– 7.25</strong></p>
<p><em>Chapter 3 Using Basic Table Functions : functions return a table</em></p>
<ul>
<li>An expression that results in a single value is called a scalar expression. </li>
<li>How to use the result of a table expression?<ul>
<li>Not as the value of a measure or of a calculated column ( both require a scalar value)</li>
<li>Assign the result to a calculated table.</li>
</ul>
</li>
<li>Calculated table<ul>
<li>a table whose value is determined by a DAX expression rather than loaded form a data source</li>
</ul>
</li>
<li>EVALUATE<ul>
<li>DAX expression that returns a table + EVALUATE =&gt; DAX Query</li>
<li>DEFINE MEASURE  : Define measures local to the query</li>
<li>ORDER BY : sort order of tables</li>
</ul>
</li>
<li>FILTER<ul>
<li>return all the rows satisfying the condition</li>
<li>table function + iterator</li>
<li>used to reduce the number of rows in iterations<ul>
<li>计算红色产品的销量:</li>
</ul>
</li>
<li>Nest FILTER<ul>
<li>= combian the conditions of two FILTER functions with AND</li>
<li>apply the most selective condition first, in order to reduce the number of iterations needed to be checked</li>
</ul>
</li>
</ul>
</li>
<li>ALL &amp; ALLEXPECT<ul>
<li>ALL<ul>
<li>returns all rows of a table or all the values of one or more columns</li>
<li>useful in computing percentages or ratios</li>
<li>parameter cannot be a table expression, need to be either a table name or a list of column names.</li>
<li>ALL on a column?<ul>
<li>ALL returns all the distinct values of the column in the entire table.</li>
<li>multiple columns from the same table =&gt; all the existing combinations of values in those columns. </li>
</ul>
</li>
</ul>
</li>
<li>ALLEXPECT<ul>
<li>mainly useful as a parameter of CALCULATE in advanced calculations</li>
</ul>
</li>
<li>Top categories and subcategories  (经典案例)</li>
</ul>
</li>
<li><em>VALUES,DISTINCT and the blank row</em><ul>
<li>difference between VALUES / DISTINCT : how they handle the blank row</li>
<li>ALL/VALUE<ul>
<li>ALL always returns all the distinct values of a column. ( ALLNOBLANKROW )</li>
<li>VALUES returns only the distinct visible values.</li>
</ul>
</li>
<li>where comes the blank rows?<ul>
<li>one-side of a relationship, all the ophaned rows in many side</li>
</ul>
</li>
<li>Values considers the blank row is a valid row, and it returns it.</li>
<li>a well-designed model should not present any invalid relationships.</li>
<li>VALUES and DISTINCT also accept a table as an argument. In that case, they exhibit different behaviors:<ul>
<li>■ DISTINCT returns the distinct values of the table, not considering the blank row. Thus, duplicated rows are removed from the result.</li>
<li>■ VALUES returns all the rows of the table, without removing duplicates, plus the additional blank row if present. Duplicated rows, in this case, are kept untouched.</li>
</ul>
</li>
</ul>
</li>
<li>Using tables as acalar values<ul>
<li>Table function VALUES used to compute scalar values : a table with a single row and a single column</li>
<li>VALUES =&gt; HASONEVALUE : checks whether a column only has one visible value  </li>
<li>SELECTEDVALUE</li>
</ul>
</li>
<li>ALLSELECTED<ul>
<li>Running percentage calculation</li>
</ul>
</li>
</ul>
<p>第三章主要是对于表格函数的学习，是最终结果返回一张计算表作为结果的函数。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://tigredatas.com/2019/07/23/dax-leaning-jurnal-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Chen Jiang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chen">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/07/23/dax-leaning-jurnal-1/" class="post-title-link" itemprop="url">DAX Leaning Jurnal - Chapter 2</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-07-23 13:46:15" itemprop="dateCreated datePublished" datetime="2019-07-23T13:46:15+02:00">2019-07-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-03-15 18:04:53" itemprop="dateModified" datetime="2020-03-15T18:04:53+01:00">2020-03-15</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/DAX/" itemprop="url" rel="index"><span itemprop="name">DAX</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/DAX/Power-BI/" itemprop="url" rel="index"><span itemprop="name">Power BI</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>Dumbo’s DAX learing plan</p>
<p><strong>从2019年7月19日开始，读 <The definitive guide to DAX> edition 2这本书，坚持100天每日做笔记。</strong></p>
<p>第一部分学习打卡 7.19 - 7.22</p>
<p>第二章</p>
<p>理解DAX计算</p>
<p>今天第一次使用天行老师推荐的幕布做笔记，一键转成思维导图的感觉实在太好了。 重读概念部分，发现自己之前忽略的很多细节。温故而知新呀。</p>
<p>Chapter 2 Introducing DAX</p>
<ul>
<li><p>Chapter 2 - 理解DAX计算</p>
<ul>
<li>如何引用某个表格中的一列<ul>
<li>‘表格名’[列名]<ul>
<li>当表格名不是以数字开头，或名称中不包含空格，或不是系统名词比如:( Date, Sum, Calculate)时，可以省略单引号。</li>
<li>如果在表格内定义一个DAX公式时，也可以省略表格名，直接使用[列名]来引用这一列。例如，在Sales中，写一个有关[Quantity]的度量值或计算列，可直接写[Quantity]，省略’Sales’。但是并不建议这么做。</li>
<li>度量值和计算列的区别: 引用度量值时，无论在哪里都可以忽略前面的表名。而计算列只有在表格内引用时，才可以忽略。<ul>
<li>Sales[Quantity] * 2 – This is a column reference</li>
<li>[Sales Amount] * 2 – This is a measure reference  </li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>DAX中的注解<ul>
<li>单行注解 -  -  或 //  </li>
<li>多行注解 starts with /* and ends with */.  </li>
<li>避免在DAX公式的末尾写注解，因为一开始并看不到，而且不被daxformatter这类工具所支持</li>
</ul>
</li>
<li>DAX 数据类型<ul>
<li>整型 interger : 64-bit value  </li>
<li>浮点型 decimal : as a double-precision floating-point value  </li>
<li>货币 currency : Fixed Decimal Number in Power BI, stores a fixed decimalnumber.  It can represent four decimal points and is internally stored as a 64-bit integer value dividedby 10,000.  对货币类型值进行计算时，只代入四位小数进行计算 ，需要考虑到精确度的问题。</li>
<li>日期 datetime : This format uses a floating-point number internally, whereinthe integer corresponds to the number of days since December 30, 1899, and the decimal part identifies the fraction of the day. Hours, minutes, and seconds are converted to decimal fractions of a day.  </li>
<li>布尔型 Boolean : logical conditions. </li>
<li>字符串 String : 16 BIT unicode string/ Not case sentitive</li>
<li>变量 Variant : 当返回值不确定类型时，就是一个变量型，比如 IF ( [measure] &gt; 0, 1, “N/A” )  结果可能是整型1 也有可能是字符串 N/A。且变量型不能用作定义某个列的数据类型。</li>
<li>二进制型 Binary ： 用来存储图片等无结构数据类型。</li>
<li>DAX在计算时可以根据给出的数据类型，自动定义所要结果的数据类型。比如，如果是一个整型乘以一个数字，那么结果也是整型 (operator overloading )</li>
<li>DAX可以自动将字符串转换为数字，数字转为字符串。例如：= 5 &amp; 4  的结果”54”就是字符串 而 = “5” + “4”  的结果9是一个整型数字。</li>
<li>The resulting value depends on the operator and not on the source columns, which areconverted following the requirements of the operator.  计算符号会改变计算结果的数据类型</li>
</ul>
</li>
<li>DAX 计算操作符<ul>
<li>括号 ( )</li>
<li>数学计算 + - * / 加减乘除</li>
<li>比较符 = &lt;&gt; &gt; &gt;= &lt; &lt;=</li>
<li>字符链接 Text concatenation &amp;</li>
<li>逻辑符号 &amp;&amp; || IN NOT</li>
</ul>
</li>
<li>表格建造器<ul>
<li>{ ( ), ( ) }</li>
<li>( 一行 )</li>
<li>we can rewrite it using the IN operator with a table constructor that has a single row  </li>
</ul>
</li>
<li>条件声明<ul>
<li>IF Function; 三个参数，但只有前两个是强制的，第三个是可选，默认值是空白。</li>
</ul>
</li>
</ul>
</li>
<li><p>Chapter 2 - 理解计算列和度量值</p>
<ul>
<li>计算列<ul>
<li>A new column added to your model</li>
<li>Created by a DAX formula</li>
<li>Like any other column in a table : used to create relationship</li>
<li>Import mode : all calculated columns occupy space in memory/uses precious RAM</li>
<li>In DirectQuery mode, calculated columns are computed on the ﬂy when the Tabular engine queries the data source.</li>
<li>Computing the duration of an order : convert the result to an integer : Sales[DaysToDeliver] = INT ( Sales[Delivery Date] - Sales[Order Date] )</li>
</ul>
</li>
<li>度量值<ul>
<li>如果不想对每一行进行计算，而是对每一行计算一个求和结果时</li>
</ul>
</li>
<li>度量值与计算列的区别：背景不同<ul>
<li>A measure is evaluated in the context of a visual element or in the context of a DAX query.</li>
<li>a calculated column is computed at the row level of the table it belongs to.（逐行进行求值）</li>
<li>A measure needs to be deﬁned in a table，but it does not really belong to the table.</li>
</ul>
</li>
<li>两者如何进行选择？<ul>
<li>一定要使用度量值的情况：the values need to be presented as aggregates in a report<ul>
<li>To calculate the proﬁt percentage of a report selection</li>
<li>To calculate ratios of a product compared to all products but keep the ﬁlter both by year and by region</li>
</ul>
</li>
<li>一定要选择计算列的情况：<ul>
<li>将计算结果用于切片器，或者结果是matrix 或 powerpivot中的一列，或者结果用于dax中的筛选条件 as a ﬁlter condition</li>
<li>Deﬁne an expression that is strictly bound to the current row. 计算当前行</li>
<li>Categorize text or numbers</li>
</ul>
</li>
</ul>
</li>
<li>Using measures in calculated columns: context transition</li>
</ul>
</li>
<li><p>Chapter 2 - 变量</p>
<ul>
<li>使用关键字 VAR定义，关键字RETURN用于返回计算结果</li>
<li>dax重的变量都是局部变量，在当前计算式中有效，dax中不存在全局变量</li>
<li>在一个dax计算式中，如果一个变量定义了但没有使用，那就不会对其进行计算</li>
<li>使用变量来避免dax计算式的重复</li>
</ul>
</li>
<li><p>Chapter 2 - 处理DAX中的错误</p>
<ul>
<li>Conversion error 数据转换错误<ul>
<li>多出现在对不同类型的数据进行计算时，如果dax没有根据计算符自动转换格式</li>
<li>解决方法：<ul>
<li>add error detection logic in DAX expressions to intercept error conditions and return a result that makes sense. 在dax表达式里加入错误检测逻辑</li>
<li><strong>具体例子？</strong></li>
</ul>
</li>
</ul>
</li>
<li>Arithmetic operations errors 算术运算错误<ul>
<li>不符合运算规则的计算：<ul>
<li>被除数为0 =&gt; infinity；除数为零=&gt;NaN; NaN/NaN = NaN</li>
<li>Square root of a negative number:</li>
</ul>
</li>
<li>Use the ISERROR function</li>
<li>Special values like NaN are displayed in the user interface of several tools such as Power BI as regular values.</li>
</ul>
</li>
<li>Empty or missing values 空缺或缺失值<ul>
<li>Combined with other elements in a calculation 当与计算中的其他元素结合使用时，空值可能会导致意外结果或计算错误。</li>
<li>Using the value BLANK 返回一个空值<ul>
<li>含有blank的表达式可能返回值，也可能返回空白，取决于所需的计算。</li>
<li>It is impossible to distinguish whether an expression is 0 (or empty string) or BLANK using an equal operator.</li>
<li>ISBLANK function to check whether a value is BLANK or not</li>
<li>在不同情景下，blank可以是blank或者0</li>
</ul>
</li>
</ul>
</li>
<li>Intercepting errors<ul>
<li>IFERROR(… ; …. ; …) function = IF ( ISERROR( …); …; …)</li>
<li>Testing parameters before using them:</li>
<li>ISBLANK detects empty values, returning TRUE if its argument is BLANK.</li>
<li>Variables : errors must be checked <strong>at the time of variable deﬁnition</strong>rather than where we use them.</li>
<li>Avoid using error-handling functions : IFERROR ISERROR : performance issues, invoke another error</li>
</ul>
</li>
<li>Generating errors : in a more meanningful way</li>
</ul>
</li>
<li><p>Chapter 2 - Formatting DAX code</p>
<ul>
<li>“format your code and never write everything on a single line; otherwise, you will be in trouble sooner than you expect.”</li>
<li>Using variables can help you read the code.</li>
<li><a href="http://www.daxformatter.com/" target="_blank" rel="noopener">http://www.daxformatter.com/</a></li>
</ul>
</li>
<li><p>Chapter 2 - 聚合器和迭代器 Aggregators and iterators</p>
<ul>
<li>聚合器 : aggregate the values of a column in a table and return a <strong>single value</strong>.  (SUM, AVERAGE, MIN, MAX) DAX never considersempty cells when it performs the aggregation. </li>
<li>迭代器 : aggregate an expression instead of a single column.  an expression that is evaluated for <strong>each row</strong> of the table.  (SUMX, AVERAGES, MINX, MAXX)<ul>
<li>The seconde one does not rely on the presence of a calculatedcolumn, thus, we can build the entire report without creating expensive calculated columns.  </li>
</ul>
</li>
<li>The basic aggregation functions are a shortened version of the corresponding X-suffixedfunction. </li>
</ul>
</li>
<li><p>Chapter 2 - Using common DAX functions</p>
<ul>
<li><p>Aggregation functions  </p>
<ul>
<li>AVERAGEA, COUNTA, MINA, and MAXA  </li>
<li>COUNT operates on any data type, apart from Boolean.</li>
<li>COUNTA operates on any type of column.</li>
<li>COUNTBLANK returns the number of empty cells (blanks or empty strings) in a column.</li>
<li>COUNTROWS returns the number of rows in a table.</li>
<li>DISTINCTCOUNT returns the number of distinct values of a column, blank value included ifpresent.</li>
<li>DISTINCTCOUNTNOBLANK returns the number of distinct values of a column, no blank valueincluded.  </li>
</ul>
</li>
<li><p>Logical functions</p>
<ul>
<li>AND, FALSE, IF, IFERROR, NOT, TRUE and OR</li>
<li>SWITCH =&gt; Multiple IF</li>
</ul>
</li>
<li><p>Information functions  : Return a Boolean value and can be used in any logical expression. </p>
<ul>
<li>ISBLANK, ISERROR, ISLOGICAL, ISNONTEXT, ISNUMBER, ISTEXT<ul>
<li>Test whether a text value is convertible to a number  :<ul>
<li>Sales[IsPriceCorrect] = NOT ISERROR ( VALUE ( Sales[Price] ) )  <ul>
<li>For example,the conversion fails if some of the rows have an “N/A” string value for price  </li>
</ul>
</li>
<li>Sales[IsPriceCorrect] = ISNUMBER ( Sales[Price] )  </li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>Mathematical functions  </p>
<ul>
<li>ABS EXP FACT LN LOG LOG10 MOD PI POWER QUOTIENT SIGN SQRT</li>
<li>RAND RANDBETWEEN</li>
<li>EVEN ODD</li>
<li>GCD LCM</li>
<li>FLOOR TRUNC ROUNDDOWN : Specify the number of digits to round. </li>
</ul>
</li>
<li><p>Trigonometric functions  </p>
<ul>
<li>Useful for certain calculations: COS, COSH,COT, COTH, SIN, SINH, TAN, and TANH. </li>
<li>Prefixing them with A computes the arc version (arcsine,arccosine, and so on). </li>
<li>DEGREES Conversion to degrees</li>
<li>RADIANS conversion to radians</li>
<li>SQRTPI computes the square root of its parameter after multiplying it by PI</li>
</ul>
</li>
<li><p>Text functions </p>
</li>
<li><p>Conversion functions</p>
<ul>
<li>CURRENCY INT DATE TIME VALUE FORMAT DATAVALUE<ul>
<li>CONCATENATE</li>
<li>CONCATENATEX</li>
<li>EXACT</li>
<li>FIND</li>
<li>FIXED</li>
<li>FORMAT</li>
<li>LEFT</li>
<li>LEN</li>
<li>LOWER</li>
<li>MID</li>
<li>REPLACE</li>
<li>REPT</li>
<li>RIGHT</li>
<li>SEARCH</li>
<li>SUBSTITUTE</li>
<li>TRIM</li>
<li>UPPER</li>
<li>VALUE</li>
</ul>
</li>
</ul>
</li>
<li><p>Date and time functions</p>
<ul>
<li>DATE, DATAVALUE, DAY, EDATE, EOMONTH, HOUR, MINUTE, MONTH, NOW, SECOND, TIME, TIMEVALUE, TODAY, WEEKDAY, WEEKNUM, YEAR and YEARFRAC</li>
<li>Using date and time functions to extract date information</li>
</ul>
</li>
<li><p>Relational functions</p>
<ul>
<li>RELATED RELATEDTABLE</li>
</ul>
</li>
</ul>
</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://tigredatas.com/2019/05/23/how-to-set-default-value-for-slicers-in-power-bi-using-dax/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Chen Jiang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chen">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/05/23/how-to-set-default-value-for-slicers-in-power-bi-using-dax/" class="post-title-link" itemprop="url">How to set default value for slicers in POWER BI using DAX</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-05-23 15:24:20" itemprop="dateCreated datePublished" datetime="2019-05-23T15:24:20+02:00">2019-05-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-03-15 18:04:53" itemprop="dateModified" datetime="2020-03-15T18:04:53+01:00">2020-03-15</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/DAX/" itemprop="url" rel="index"><span itemprop="name">DAX</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/DAX/Power-BI/" itemprop="url" rel="index"><span itemprop="name">Power BI</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>As my first blog, I want to talk about how to set default value for slicers in Power BI using DAX functions.</p>
<p>Recently, I was making a power bi report that contains the sales figure from 2010 to 2019 for a customer. I was asked to make the report show the figures of the current year by defalult instead of all the passed years, which means that I need to set default values for the date slicer selections.</p>
<p>A default value = the value when there is no selection in the slicer. Once there has one selection in the slicer, the default value should be killed. If there is no selection in the slicer, there is <strong>no direct filter on the column behind the slicer</strong>, which makes me think of ISFILTERED function immediately.</p>
<blockquote>
<p>ISFILTERED Returns TRUE when <em>columnName</em> is being filtered directly. If there is no filter on the column or if the filtering happens because a different column in the same table or in a related table is being filtered then the function returns <strong>FALSE</strong>.</p>
</blockquote>
<p>So here we go, let’s use ISFILTERED function to complete the mission.</p>
<p>Here is my data sample: I have a sale table and a calender table.</p>
<p><img src="http://littledumbo.com/wp-content/uploads/2019/05/image.png" alt=""></p>
<p>Now comes the stars, a year slicer and a histogram show the total sale by salesperson ID.</p>
<p><img src="http://littledumbo.com/wp-content/uploads/2019/05/image-1.png" alt=""></p>
<p>A year slicer using ‘Calender’[Year],<br>and a histogram show the [total sale] by ‘sales’[salesperson ID].</p>
<p>I need to make sure <strong>when there is no selection in the year slicer, the histogram will show the total sale of 2014</strong>, which comes naturally:</p>
<pre><code>Total sales with Default = 
IF (
    ISFILTERED(Calender[Year]);
   //whether the year column has been filtered directly

    SUM (&apos;Sales SalesOrderHeader&apos;[SubTotal]);
    CALCULATE (
        SUM ( &apos;Sales SalesOrderHeader&apos;[SubTotal] );
        FILTER(&apos;Calender&apos;;Calender[Year]=2014)
    )  
)</code></pre><p>So simple, right ? Maybe that’s the reason why Power BI doesn’t provide us with a default value for a slicer : too simple to realise.</p>
<p>What if … I have more than one slicers need to be set a defaults value? Like the situation below:</p>
<p><img src="http://littledumbo.com/wp-content/uploads/2019/05/image-2.png" alt=""></p>
<p>Three slicers: ‘Calender’[Year] / ‘Calender’[Month] / ‘Calender’[Date]</p>
<p>Always <strong>ISFILTERED ( )</strong> always simple, just need a help from <strong>OR ( )</strong>.by creating a measure [IsAnySlicerFiltered?], who will return <strong>False</strong> when there is no selection in any of these three slicers, and will return <strong>True</strong> when there has one.</p>
<pre><code>IsAnySlicerSelected? = 
 OR(
    OR(
         ISFILTERED(Calender[Date]);ISFILTERED(Calender[Month]));
    ISFILTERED(Calender[Year])
 )</code></pre><p>Now you replace <em>[IsAnySlicerFiltered?]</em> with <em>ISFILTERED(Calender[Year]);</em> in the earlier measure [Total sales with Default].</p>
<pre><code>Total sales with Default (miltiple slicers) = 
IF (
    [IsAnySlicerSelected?];
    SUM (&apos;Sales SalesOrderHeader&apos;[SubTotal]);
    CALCULATE (
        SUM ( &apos;Sales SalesOrderHeader&apos;[SubTotal] );
        FILTER(&apos;Calender&apos;;Calender[Year]=2014)
    ) 
)</code></pre><p>Everything is done !</p>
<p><img src="http://littledumbo.com/wp-content/uploads/2019/05/multi-slicers.gif" alt=""></p>
<p>Absolutly this is not the only way to set the defalts value for a slicer, we can think another way, like:</p>
<p>There is no selection in the slicer =&gt; The number of rows of the column behind it should be <strong>0</strong> =&gt; Ok, it seems COUNTROW( ) could do this for us.</p>
<p>You need to create a measure to note your current selection in the slicer, we call it <em>[CurrentSelection?]</em></p>
<pre><code>CurrenctSelection? = COUNTROWS(DISTINCT(ALLSELECTED(Calender[Year])))</code></pre><p>And another one named [TotalSelection?]</p>
<pre><code>TotalSelection? = COUNTROWS(DISTINCT(ALL(Calender[Year])))</code></pre><p>Et voilà, if <em>[CurrentSelection?]</em> = [TotalSelection?] situation happends when there is no selection or you select “select all” option in the slicer. By the way, neither of these two ways of setting the default value doesn’t work when you selected the “select all” option in the slicer !</p>
<pre><code>Total sales with Default = 
IF (
[CurrenctSelection?] = [TotalSelection?];
    CALCULATE (
        SUM ( &apos;Sales SalesOrderHeader&apos;[SubTotal] );
        FILTER(&apos;Calender&apos;;Calender[Year]=2014)
    );
    SUM (&apos;Sales SalesOrderHeader&apos;[SubTotal])
)</code></pre><hr>
<p><img src="http://littledumbo.com/wp-content/uploads/2019/05/slicers.gif" alt=""></p>
<p>Thanks for watching !</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

  </div>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Chen Jiang</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">13</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">categories</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Chen Jiang</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> v4.2.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">Theme – <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> v7.7.2
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
